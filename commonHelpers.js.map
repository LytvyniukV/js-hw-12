{"version":3,"file":"commonHelpers.js","sources":["../src/js/gallery-init.js","../src/js/refs.js","../src/js/request.js","../src/js/markup.js","../src/js/show-message.js","../src/js/renderCards.js","../src/main.js"],"sourcesContent":["\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport const modalGallery = new SimpleLightbox('.gallery a', {className: 'simple-lightbox'});","export const refs = {\n  searchForm: document.querySelector('.search-form'),\n  searchInput: document.querySelector('.search-input'),\n  gallery: document.querySelector('.gallery'),\n  paginationBtn: document.getElementById('pagination-btn')\n};\n\n\n","import axios from 'axios';\nimport { refs } from './refs';\nimport { page, imagesPerPage, queryValue } from './renderCards';\n\nexport const makeRequest = async () => {\n  const response = axios.get(`https://pixabay.com/api`, {\n    params: {\n      key: '41495640-29bfe7f4b7a68b8700cb52105',\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      q: refs.searchInput.value,\n      per_page: imagesPerPage,\n      page: page,\n    },\n  });\n  return (await response).data;\n};\n","\nexport const markupCards = ({ hits }) => {\n  return hits.reduce(\n    (html, image) =>\n      html +\n      `\n    <li class='gallery-item'>\n        <a href=\"${image.largeImageURL}\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" width='640' height='640'/>\n        </a>\n        <div class='info-wrap'>\n          <div>\n            <h3 class='card-title'>Likes</h3>\n            <p class='info-amount'>${image.likes}</p>\n          </div>\n          <div>\n            <h3 class='card-title'>Views</h3>\n            <p class='info-amount'>${image.views}</p>\n          </div>\n          <div>\n            <h3 class='card-title'>Comments</h3>\n            <p class='info-amount'>${image.comments}</p>\n          </div>\n          <div>\n            <h3 class='card-title'>Downloads</h3>\n            <p class='info-amount'>${image.downloads}</p>\n          </div>\n        </div>\n      </li>`,\n    ''\n  );\n};\n\n\n\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nexport const showMessage = () => {\n    iziToast.error({\n      message: `Sorry, there are no images matching your search query. Please try again!`,\n      backgroundColor: 'rgb(240, 115, 115)',\n      messageColor: 'white',\n      maxWidth: 300,\n      position: 'topRight',\n      timeout: 3000,\n      progressBar: false,\n      transitionIn: 'bounceInRight',\n      transitionOut: 'fadeOutLeft',\n      messageSize: 14,\n    });\n  };","import { modalGallery } from './gallery-init';\nimport { refs } from './refs';\nimport { makeRequest } from './request';\nimport { markupCards } from './markup';\nimport { showMessage } from './show-message';\n\n\nexport let queryValue;\nexport let page = 1;\nexport const imagesPerPage = 40;\n\n\nconst getImages = async () => {\n  const images = await makeRequest();\n  try {\n    if (images.hits.length < 1) {\n      showMessage();\n      refs.gallery.innerHTML = '';\n      return;\n    }\n    if (images.totalHits > imagesPerPage) {\n      refs.paginationBtn.classList.remove('hidden');\n    }\n    refs.gallery.innerHTML = markupCards(images);\n  } catch (error) {\n    console.log(new Error(error));\n  }\n};\n\nexport const renderCards = async event => {\n  event.preventDefault();\n  refs.paginationBtn.classList.add('hidden');\n  refs.gallery.innerHTML = \"<div class='loader'></div>\";\n  getImages();\n  queryValue = refs.searchInput.value;\n  page++;\n  if(refs.searchInput.value !== queryValue){\n    page = 1;\n  }\n  console.log(page);\n  modalGallery.refresh();\n  refs.searchForm.reset();\n  \n};\n\nconst pagination = () => {\n\n}\n// class Gallery {\n//   #refs = {\n//     searchForm: document.querySelector('.search-form'),\n//     searchInput: document.querySelector('.search-input'),\n//     // gallery: document.querySelector('.gallery'),\n//     // loadBtn: document.querySelector('.btn-load-more'),\n//   };\n//   #page = 1;\n//   #cardsPerPage = 40;\n//   constructor(selectorGallery, selectorButton) {\n//     this.gallery = document.querySelector(selectorGallery);\n//     this.buttonLoadMore = document.querySelector(selectorButton);\n//     this.renderCards();\n//     // this.pagination();\n//   }\n\n//    makeRequest = async() => {\n//     const response = axios.get(`https://pixabay.com/api`, {\n//       params: {\n//         key: '41495640-29bfe7f4b7a68b8700cb52105',\n//         image_type: 'photo',\n//         orientation: 'horizontal',\n//         safesearch: true,\n//         q: this.#refs.searchInput.value,\n//         per_page: this.#cardsPerPage,\n//         page: this.#page,\n//       },\n//     });\n//     return (await response).data;\n//   }\n\n//   async responseData() {\n//     return await makeRequest();\n//   }\n\n//   markup({ hits }) {\n//     return hits.reduce(\n//       (html, image) =>\n//         html +\n//         `\n//     <li class='gallery-item'>\n//         <a href=\"${image.largeImageURL}\">\n//         <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" width='640' height='640'/>\n//         </a>\n//         <div class='info-wrap'>\n//           <div>\n//             <h3 class='card-title'>Likes</h3>\n//             <p class='info-amount'>${image.likes}</p>\n//           </div>\n//           <div>\n//             <h3 class='card-title'>Views</h3>\n//             <p class='info-amount'>${image.views}</p>\n//           </div>\n//           <div>\n//             <h3 class='card-title'>Comments</h3>\n//             <p class='info-amount'>${image.comments}</p>\n//           </div>\n//           <div>\n//             <h3 class='card-title'>Downloads</h3>\n//             <p class='info-amount'>${image.downloads}</p>\n//           </div>\n//         </div>\n//       </li>`,\n//       ''\n//     );\n//   }\n\n//   getImages = async(response) => {\n//     try {\n//       if (response.length < 1) {\n//         showMessage();\n//         refs.gallery.innerHTML = '';\n//         return;\n//       }\n//       refs.gallery.innerHTML = markupCards(response);\n//     } catch (error) {\n//       console.log(new Error(error));\n//     }\n//   }\n\n//   renderCards = (event) => {\n//     event.preventDefault();\n//     this.#refs.gallery.innerHTML = \"<div class='loader'>Please wait...</div>\";\n//     this.getImages(this.responseData.hits);\n//     modalGallery.refresh();\n//     this.#refs.searchForm.reset();\n//   }\n// }\n\n// export const gallery = new Gallery('.gallery', '.btn-load-more');\n","import { renderCards } from './js/renderCards';\nimport { refs } from './js/refs';\n\nrefs.searchForm.addEventListener('submit', renderCards);\n"],"names":["modalGallery","SimpleLightbox","refs","makeRequest","axios","imagesPerPage","page","markupCards","hits","html","image","showMessage","iziToast","queryValue","getImages","images","error","renderCards","event"],"mappings":"owBAIO,MAAMA,EAAe,IAAIC,EAAe,aAAc,CAAC,UAAW,iBAAiB,CAAC,ECJ9EC,EAAO,CAClB,WAAY,SAAS,cAAc,cAAc,EACjD,YAAa,SAAS,cAAc,eAAe,EACnD,QAAS,SAAS,cAAc,UAAU,EAC1C,cAAe,SAAS,eAAe,gBAAgB,CACzD,ECDaC,EAAc,UAYjB,MAXSC,EAAM,IAAI,0BAA2B,CACpD,OAAQ,CACN,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,EAAGF,EAAK,YAAY,MACpB,SAAUG,EACV,KAAMC,CACP,CACL,CAAG,GACuB,KCfbC,EAAc,CAAC,CAAE,KAAAC,KACrBA,EAAK,OACV,CAACC,EAAMC,IACLD,EACA;AAAA;AAAA,mBAEaC,EAAM;AAAA,oBACLA,EAAM,sBAAsBA,EAAM;AAAA;AAAA;AAAA;AAAA;AAAA,qCAKjBA,EAAM;AAAA;AAAA;AAAA;AAAA,qCAINA,EAAM;AAAA;AAAA;AAAA;AAAA,qCAINA,EAAM;AAAA;AAAA;AAAA;AAAA,qCAINA,EAAM;AAAA;AAAA;AAAA,aAIvC,EACJ,EC3BaC,EAAc,IAAM,CAC7BC,EAAS,MAAM,CACb,QAAS,2EACT,gBAAiB,qBACjB,aAAc,QACd,SAAU,IACV,SAAU,WACV,QAAS,IACT,YAAa,GACb,aAAc,gBACd,cAAe,cACf,YAAa,EACnB,CAAK,CACF,ECTI,IAAIC,EACAP,EAAO,EACX,MAAMD,EAAgB,GAGvBS,EAAY,SAAY,CAC5B,MAAMC,EAAS,MAAMZ,IACrB,GAAI,CACF,GAAIY,EAAO,KAAK,OAAS,EAAG,CAC1BJ,IACAT,EAAK,QAAQ,UAAY,GACzB,MACD,CACGa,EAAO,UAAYV,GACrBH,EAAK,cAAc,UAAU,OAAO,QAAQ,EAE9CA,EAAK,QAAQ,UAAYK,EAAYQ,CAAM,CAC5C,OAAQC,EAAP,CACA,QAAQ,IAAI,IAAI,MAAMA,CAAK,CAAC,CAC7B,CACH,EAEaC,EAAc,MAAMC,GAAS,CACxCA,EAAM,eAAc,EACpBhB,EAAK,cAAc,UAAU,IAAI,QAAQ,EACzCA,EAAK,QAAQ,UAAY,6BACzBY,IACAD,EAAaX,EAAK,YAAY,MAC9BI,IACGJ,EAAK,YAAY,QAAUW,IAC5BP,EAAO,GAET,QAAQ,IAAIA,CAAI,EAChBN,EAAa,QAAO,EACpBE,EAAK,WAAW,OAElB,ECxCAA,EAAK,WAAW,iBAAiB,SAAUe,CAAW"}